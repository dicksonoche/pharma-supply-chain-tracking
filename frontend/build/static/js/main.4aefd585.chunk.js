(this["webpackJsonppharma-supply-chain-frontend"]=this["webpackJsonppharma-supply-chain-frontend"]||[]).push([[0],{65:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(33),n=c.n(s),r=c(31),l=c(78),i=c(81),j=c(79),d=c(82);var h,b,m,u,x=new i.a({link:new j.a({uri:"https://api.studio.thegraph.com/query/10965/pharma-supply-chain-tracker/version/latest"}),cache:new d.a}),o=c(32),O=c(80),p=c(54),v=c(77),f=c(2);const g=Object(O.a)(h||(h=Object(o.a)(["\n  {\n    batches {\n      id\n      manufacturer\n      manufactureDate\n      expiryDate\n      status\n    }\n  }\n"]))),N=Object(O.a)(b||(b=Object(o.a)(["\n  {\n    temperatureEvents {\n      id\n      batchId\n      temperature\n      timestamp\n    }\n  }\n"]))),y=Object(O.a)(m||(m=Object(o.a)(["\n  query getBatchesByManufacturer($manufacturer: String!) {\n    batches(where: { manufacturer: $manufacturer }) {\n      id\n      manufacturer\n      manufactureDate\n      expiryDate\n      status\n    }\n  }\n"]))),D=Object(O.a)(u||(u=Object(o.a)(["\n  query getTemperatureEventsByBatch($batchId: String!) {\n    temperatureEvents(where: { batchId: $batchId }) {\n      id\n      batchId\n      temperature\n      timestamp\n    }\n  }\n"])));var I=function(){const[e,t]=Object(a.useState)([]),[c,s]=Object(a.useState)([]),[n,l]=Object(a.useState)([]),[i,j]=Object(a.useState)([]),[d,h]=Object(a.useState)(""),[b,m]=Object(a.useState)([0,100]),[u,x]=Object(a.useState)({status:"",manufacturer:""}),{loading:o,error:O}=Object(p.b)(g,{onCompleted:e=>t(e.batches),onError:e=>h(e.message)}),{loading:I,error:w}=Object(p.b)(N,{onCompleted:e=>s(e.temperatureEvents),onError:e=>h(e.message)}),[S,{loading:E}]=Object(v.a)(y,{onCompleted:e=>l(e.batches),onError:e=>h(e.message)}),[T,{loading:C}]=Object(v.a)(D,{onCompleted:e=>j(e.temperatureEvents),onError:e=>h(e.message)}),B=e=>{const{name:t,value:c}=e.target;x((e=>({...e,[t]:c})))},F=c.filter((e=>e.temperature>=b[0]&&e.temperature<b[1])),L=e.filter((e=>(!u.status||e.status===u.status)&&(!u.manufacturer||e.manufacturer===u.manufacturer)));return Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsxs)("div",{className:"row flex-nowrap",children:[Object(f.jsx)("div",{className:"col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark",children:Object(f.jsxs)("div",{className:"d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100",children:[Object(f.jsx)("a",{href:"/",className:"d-flex align-items-center pb-3 mb-md-1 mt-md-3 me-md-auto text-white text-decoration-none",children:Object(f.jsx)("span",{className:"fs-5 fw-bolder d-none d-sm-inline",children:"MediChain"})}),Object(f.jsxs)("ul",{className:"nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start",id:"menu",children:[Object(f.jsx)("li",{children:Object(f.jsxs)(r.b,{to:"/","data-bs-toggle":"collapse",className:"nav-link text-white px-0 align-middle",children:[Object(f.jsx)("i",{className:"fs-4 bi-speedometer2"})," ",Object(f.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Dashboard"})," "]})}),Object(f.jsx)("li",{children:Object(f.jsxs)(r.b,{to:"/preview",className:"nav-link px-0 align-middle text-white",children:[Object(f.jsx)("i",{className:"fs-4 bi-list-task"})," ",Object(f.jsx)("span",{className:"ms-1 d-none d-sm-inline",children:"Manage Supply"})," "]})})]})]})}),Object(f.jsxs)("div",{className:"col p-0 m-0",children:[Object(f.jsx)("div",{className:"p-2 d-flex justify-content-center shadow",children:Object(f.jsx)("h4",{children:"Pharmaceutical Supply Chain Tracker"})}),Object(f.jsxs)("div",{className:"px-5 py-3",children:[Object(f.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(f.jsx)("h3",{children:"Batches"})}),Object(f.jsx)("div",{className:"text-danger",children:d&&d}),Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"statusFilter",children:"Status Filter: "}),Object(f.jsxs)("select",{name:"status",id:"statusFilter",onChange:B,className:"form-select",children:[Object(f.jsx)("option",{value:"",children:"All"}),Object(f.jsx)("option",{value:"Temperature Exceeded",children:"Temperature Exceeded"}),Object(f.jsx)("option",{value:"Temperature Normal",children:"Temperature Normal"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("label",{htmlFor:"manufacturerFilter",children:["Manufacturer Filter:"," "]}),Object(f.jsxs)("select",{name:"manufacturer",id:"manufacturerFilter",onChange:B,className:"form-select",children:[Object(f.jsx)("option",{value:"",children:"All"}),Object(f.jsx)("option",{value:"Dipo-Test1",children:"Dipo-Test1"}),Object(f.jsx)("option",{value:"Wellness Ltd",children:"Wellness Ltd"})]})]})]}),Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Batch ID"}),Object(f.jsx)("th",{children:"Manufacturer"}),Object(f.jsx)("th",{children:"Manufacture Date"}),Object(f.jsx)("th",{children:"Expiry Date"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{children:L.map((e=>Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:parseInt(e.id)}),Object(f.jsx)("td",{children:e.manufacturer}),Object(f.jsx)("td",{children:new Date(parseInt(e.manufactureDate)).toLocaleDateString()}),Object(f.jsx)("td",{children:new Date(parseInt(e.expiryDate)).toLocaleDateString()}),Object(f.jsx)("td",{className:"Temperature Exceeded"===e.status?"text-danger":"text-success",children:e.status})]},e.id)))})]}),Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsxs)("label",{htmlFor:"manufacturerQuery",children:["Query by Manufacturer:"," "]}),Object(f.jsx)("input",{type:"text",id:"manufacturerQuery",onChange:e=>{return t=e.target.value,void S({variables:{manufacturer:t}});var t},className:"form-control"}),E?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsxs)("table",{className:"table mt-3",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Batch ID"}),Object(f.jsx)("th",{children:"Manufacturer"}),Object(f.jsx)("th",{children:"Manufacture Date"}),Object(f.jsx)("th",{children:"Expiry Date"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{children:n.map((e=>Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:parseInt(e.id)}),Object(f.jsx)("td",{children:e.manufacturer}),Object(f.jsx)("td",{children:new Date(parseInt(e.manufactureDate)).toLocaleDateString()}),Object(f.jsx)("td",{children:new Date(parseInt(e.expiryDate)).toLocaleDateString()}),Object(f.jsx)("td",{className:"Temperature Exceeded"===e.status?"text-danger":"text-success",children:e.status})]},e.id)))})]})]}),Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsx)("label",{htmlFor:"batchQuery",children:"Query by Batch ID: "}),Object(f.jsx)("input",{type:"text",id:"batchQuery",onChange:e=>{return t=e.target.value,void T({variables:{batchId:t}});var t},className:"form-control"}),C?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsxs)("table",{className:"table mt-3",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Event ID"}),Object(f.jsx)("th",{children:"Batch ID"}),Object(f.jsx)("th",{children:"Temperature (\xb0C)"}),Object(f.jsx)("th",{children:"Timestamp"})]})}),Object(f.jsx)("tbody",{children:i.map((e=>Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:parseInt(e.batchId)}),Object(f.jsx)("td",{children:e.temperature}),Object(f.jsx)("td",{children:new Date(parseInt(e.timestamp)).toLocaleString()})]},e.id)))})]})]})]})]}),Object(f.jsxs)("div",{className:"px-5 py-3",children:[Object(f.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(f.jsx)("h3",{children:"Temperature Events"})}),Object(f.jsx)("div",{className:"text-danger",children:d&&d}),Object(f.jsxs)("div",{className:"mt-3",children:[Object(f.jsx)("div",{className:"d-flex justify-content-between mb-3",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"tempRange",children:"Temperature Range: "}),Object(f.jsxs)("select",{id:"tempRange",onChange:e=>{const t="All"===e.target.value?[0,100]:e.target.value.split("-").map(Number);m(t)},className:"form-select",children:[Object(f.jsx)("option",{value:"All",children:"All"}),Object(f.jsx)("option",{value:"0-10",children:"0-10"}),Object(f.jsx)("option",{value:"10-20",children:"10-20"}),Object(f.jsx)("option",{value:"20-30",children:"20-30"}),Object(f.jsx)("option",{value:"30-40",children:"30-40"}),Object(f.jsx)("option",{value:"40-50",children:"40-50"}),Object(f.jsx)("option",{value:"50-60",children:"50-60"}),Object(f.jsx)("option",{value:"60-70",children:"60-70"}),Object(f.jsx)("option",{value:"70-80",children:"70-80"}),Object(f.jsx)("option",{value:"80-90",children:"80-90"}),Object(f.jsx)("option",{value:"90-100",children:"90-100"})]})]})}),Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Event ID"}),Object(f.jsx)("th",{children:"Batch ID"}),Object(f.jsx)("th",{children:"Temperature (\xb0C)"}),Object(f.jsx)("th",{children:"Timestamp"})]})}),Object(f.jsx)("tbody",{children:F.map((e=>Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:parseInt(e.batchId)}),Object(f.jsx)("td",{children:e.temperature}),Object(f.jsx)("td",{children:new Date(parseInt(e.timestamp)).toLocaleString()})]},e.id)))})]})]})]})]})]})})};c(64);n.a.render(Object(f.jsx)(l.a,{client:x,children:Object(f.jsx)(r.a,{children:Object(f.jsx)(I,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.4aefd585.chunk.js.map